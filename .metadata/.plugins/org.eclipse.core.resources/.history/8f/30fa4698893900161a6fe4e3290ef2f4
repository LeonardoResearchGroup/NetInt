package utilities.visualArrangements;

import java.util.ArrayList;
import java.util.Iterator;

import processing.core.PApplet;
import processing.core.PVector;
import visualElements.VEdge;
import visualElements.VNode;
import visualElements.interactive.VisualAtom;

public class LinearArrangement implements Arrangement {
	public PApplet app;

	public LinearArrangement(PApplet app) {
		this.app = app;
	}

	/**
	 * Assigns coordinates to each VisualAtom on an horizontal axis. The length
	 * of the axis is the width of the Applet minus 2* margin. Center is at
	 * (0,0)
	 * 
	 * @param margin
	 *            the gap between the Applet margin and each extreme of the axis
	 */
	public void linearLayout(float margin, ArrayList<VisualAtom> visualElements) {
		PVector left = new PVector(-(app.width - margin) / 2, 0);
		PVector right = new PVector((app.width - margin) / 2, 0);
		int count = 0;
		float dist = left.dist(right);
		float xStep = (float) dist / (visualElements.size());

		// Organize nodes on a line
		Iterator<VisualAtom> itr = visualElements.iterator();
		while (itr.hasNext()) {
			VisualAtom tmp = itr.next();
			tmp.setX(left.x + xStep + (xStep * count));
			tmp.setY(left.y);
			count++;
		}
	}
}
